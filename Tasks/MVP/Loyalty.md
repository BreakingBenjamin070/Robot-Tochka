# UserStory Система лояльности

## US 01: Я как посетитель ХОЧУ зарегистрироваться в системе лояльности ЧТОБЫ получить/списать бонусные баллы
### Acceptance Criteria 
- Пользователь может зарегистрироваться в системе лояльности, указав номер телефона и пароль
- После успешной регистрации пользователь получает уникальный идентификатор участника программы лояльности
### Tasks
1. Реализовать регистрацию клиента
> Система должна принять данные пользователя и записать в БД нового пользователя.   
### TestCase
**Позитивные сценарии:**
 - Регистрация в системе лояльности:
 > Пользователь переходит на страницу регистрации в программе лояльности. Пользователь вводит номер телефона и пароль  
*Ожидаемый результат:* Система создает учетную запись и присваивает пользователю уникальный идентификатор участника.

**Негативные сценарии:**
- Некорректный номер телефона:
> Пользователь вводит некорректный номер телефона при регистрации.    
*Ожидаемый результат:* Система выводит сообщение об ошибке и просит ввести корректный номер телефона



## US 02: Я как посетитель ХОЧУ иметь возможность входить в систему лояльности ресторана ЧТОБЫ получать спецпредложения
### Acceptance Criteria 
- Пользователь может войти в систему лояльности, используя свои учетные данные
- Если пользователь неверно вводит учетные данные, должно появляться сообщение об ошибке
### Tasks
1. Реализовать авторизацию пользователя
> Реализовать проверку учетных данных пользователя и авторизацию пользователя. В случае успеха, пользователь должен иметь возможность работать с бонусными баллами, в ином случае - ошибка.
### TestCase
**Позитивные сценарии:**
 - Успешный вход в систему лояльности:
 > Пользователь вводит корректные учетные данные.  
*Ожидаемый результат:* Пользователь успешно входит в систему лояльности

**Негативные сценарии:**
- Вход с некорректными учетными данными:
> Пользователь пытается открыть страницу меню.    
*Ожидаемый результат:* Система выводит сообщение об ошибке с просьбой проверить учетные данные



## US 03: Я как посетитель ХОЧУ увидеть, сколько бонусных баллов я могу списать ЧТОБЫ увидеть экономию
### Acceptance Criteria 
- При оформлении заказа пользователь видит свой текущий баланс бонусных баллов
- Система рассчитывает и показывает, какую часть заказа можно оплатить бонусными баллами.
- Пользователь видит итоговую стоимость заказа с учетом бонусной скидки
### Tasks
1. Реализовать отображение баланса бонусных баллов при оплате
> При переходе к оплате отобразить текущий баланс баллов и расчет возможной скидки
2. Реализовать расчет скидки на основе баллов
> Рассчитать сумму заказа с учетом бонусной скидки, если пользователь решит использовать баллы
3. Отобразить итоговую сумму с учетом списанных баллов
> Обновить отображение итоговой стоимости, показывая скидку, примененную за счет бонусных баллов
### TestCase
**Позитивные сценарии:**
 - Просмотр текущего баланса бонусов при оформлении заказа:
 > Пользователь переходит к оформлению заказа.  
*Ожидаемый результат:* Отображается баланс бонусных баллов и стоимость заказа с учетом бонусной скидки.

**Негативные сценарии:**
- Ошибув при просмотре текущего баланса бонусов при оформлении заказа (например, ошибка сервера):
> Пользователь пытается открыть страницу меню.    
*Ожидаемый результат:* Система отображает сообщение об ошибке и предлагает пользователю повторить попытку позже
