# UserStory Оплата заказа

## US 01: Я как посетитель ХОЧУ оплатить заказ бонусными баллами ЧТОБЫ потратить меньше денег
### Acceptance Criteria 
- Пользователь может выбрать метод оплаты «Бонусные баллы» при оформлении заказа
- Если у пользователя есть баллы, то сумма к оплате уменьшается на эквивалентную сумму баллов
- После оплаты баллами, баланс баллов должен уменьшиться на эквивалентную сумму

### Tasks
1. Создать логику для оплаты заказа бонусными баллами
> Реализовать проверку наличия бонусных баллов и расчет списания суммы
2. Реализовать UI для выбора метода оплаты «Бонусные баллы»
> Добавить опцию «Бонусные баллы» на экране оплаты с отображением текущего баланса баллов.


## US 02: Я как Посетитель ХОЧУ оплатить заказ по СБП ЧТОБЫ получить свою еду
### Acceptance Criteria 
- После завершения выбора блюд пользователь должен быть перенаправлен на страницу оплаты, где будет доступен единственный способ оплаты — с помощью карты через систему быстрых платежей (СБП).
- Система должна предложить пользователю сгенерировать QR-код для оплаты или выполнить оплату через приложение банка, поддерживающее СБП.
- После успешной оплаты заказ должен быть автоматически переведен в статус "Оплачен", и на экране подтверждения заказа должно быть отображено сообщение об успешной транзакции.
- Если по каким-либо причинам оплата не была завершена, система должна запросить повторную попытку или предложить пользователю помощь в случае возникновения проблем.


### Tasks
1.	Реализовать переход на страницу оплаты с поддержкой СБП
> После оформления заказа пользователь перенаправляется на страницу оплаты, где генерируется QR-код для системы быстрых платежей (СБП). QR-код должен соответствовать сумме заказа и содержать все необходимые данные для проведения транзакции.
2.	Реализовать проверку успешности оплаты через СБП
> После того как пользователь произвел оплату через СБП, система должна проверить статус транзакции. В случае успешной оплаты заказ должен перейти в статус "Оплачен", и пользователю должно быть показано подтверждение.
3.	Реализовать повторную попытку оплаты в случае ошибки
> Если по какой-либо причине оплата не удалась, пользователь должен получить сообщение об ошибке и возможность повторить оплату. Система должна повторно сгенерировать QR-код и предложить пользователю завершить оплату, пока заказ не будет подтвержден как "Оплачен".
